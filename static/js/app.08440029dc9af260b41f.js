webpackJsonp([1],{"60YP":function(t,e){AFRAME.registerComponent("produce_food",{schema:{interval:{default:3e3}},init:function(){var t=document.querySelector("a-scene");this.timer=setInterval(function(){var e=document.createElement("a-box");e.setAttribute("food",""),t.appendChild(e)},this.data.interval)},remove:function(){clearInterval(this.timer)}})},"6ozT":function(t,e){var i,n,s=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"],o=AFRAME.utils.bind;AFRAME.registerComponent("move",{schema:{speed:{default:.5},acceleration:{default:65},easing:{default:20},enabled:{default:!0},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},wsAxis:{default:"y",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.position={},this.velocity=new THREE.Vector3(0,0,.001),this.onKeyDown=o(this.onKeyDown,this),this.onKeyUp=o(this.onKeyUp,this)},tick:function(t,e){var i,n,s=this.data,o=this.el,a=this.position,r=this.velocity;(r[s.adAxis]||r[s.wsAxis]||r.z||!function(t){var e;for(e in t)return!1;return!0}(this.keys))&&(e/=1e3,this.updateVelocity(e),(r[s.adAxis]||r[s.wsAxis]||r.z)&&(i=o.getAttribute("position"),n=this.getMovementVector(e),a.x=i.x+n.x,a.y=i.y+n.y,a.z=i.z+n.z,o.setAttribute("position",a)))},remove:function(){this.removeKeyEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(t){var e,i,n,s,o,a=this.data,r=this.keys,d=this.velocity,c=a.speed;if(i=a.adAxis,s=a.wsAxis,t>.2)return d[i]=0,void(d[s]=0);0!==d[i]&&(d[i]-=d[i]*a.easing*t),0!==d[s]&&(d[s]-=d[s]*a.easing*t),0!==d.z&&(d.z-=d.z*a.easing*t),Math.abs(d[i])<1e-5&&(d[i]=0),Math.abs(d[s])<1e-5&&(d[s]=0),Math.abs(d.z)<1e-5&&(d.z=0),a.enabled&&(e=a.acceleration,a.adEnabled&&(n=a.adInverted?-1:1,(r.KeyA||r.ArrowLeft)&&(d[i]-=n*e*t),(r.KeyD||r.ArrowRight)&&(d[i]+=n*e*t)),a.wsEnabled&&(o=a.wsInverted?-1:1,(r.KeyW||r.ArrowUp)&&(d[s]+=o*e*t),(r.KeyS||r.ArrowDown)&&(d[s]-=o*e*t)),d.z-=e*t*c)},getMovementVector:(i=new THREE.Vector3(0,0,0),n=new THREE.Euler(0,0,0,"YXZ"),function(t){var e=this.el.getAttribute("rotation"),s=this.velocity;return i.copy(s),i.multiplyScalar(t),e?(n.set(THREE.Math.degToRad(e.x),THREE.Math.degToRad(e.y),THREE.Math.degToRad(e.z)),i.applyEuler(n),i):i}),attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onKeyDown:function(t){var e=t.code;-1!==s.indexOf(e)&&(this.keys[e]=!0)},onKeyUp:function(t){var e=t.code;delete this.keys[e]}})},"9b+4":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW");i("mmUs"),i("SLdq"),i("v7x2"),i("bGai");var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("a-scene",{attrs:{physics:"debug:false; gravity:0",id:"scene"}},[e("a-assets"),this._v(" "),e("a-box",{attrs:{id:"snake",eat:"","static-body":"","look-controls":"",move:"",queue:"ishead:true"}},[e("a-camera",{attrs:{id:"camera",position:"0 0 -.1","look-controls":"enabled:false","wasd-controls":"enabled:false","user-height":"0"}},[e("a-cursor",{attrs:{id:"cursor"}})],1)],1),this._v(" "),e("a-sky",{attrs:{id:"sky",color:"#ddd",produce_food:""}}),this._v(" "),e("a-plane",{staticClass:"plane",attrs:{"static-body":"",color:"#89916B",height:"150",width:"150",rotation:"-90 0 0",position:"0 -5 0"}})],1)],1)},staticRenderFns:[]};var o=i("VU/8")({data:function(){return{}},mounted:function(){},methods:{}},s,!1,function(t){i("9b+4")},"data-v-11441c12",null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",template:"<App/>",components:{App:o}})},QRIy:function(t,e){t.exports={_from:"github:donmccurdy/cannon.js#v0.6.2-dev1",_id:"cannon@0.6.2",_inBundle:!1,_integrity:"sha1-YaYKETlNIWjV+t//0KAcTICRKXw=",_location:"/cannon",_phantomChildren:{},_requested:{type:"git",raw:"cannon@github:donmccurdy/cannon.js#v0.6.2-dev1",name:"cannon",escapedName:"cannon",rawSpec:"github:donmccurdy/cannon.js#v0.6.2-dev1",saveSpec:"github:donmccurdy/cannon.js#v0.6.2-dev1",fetchSpec:null,gitCommittish:"v0.6.2-dev1"},_requiredBy:["/aframe-physics-system"],_resolved:"github:donmccurdy/cannon.js#022e8ba53fa83abf0ad8a0e4fd08623123838a17",_spec:"cannon@github:donmccurdy/cannon.js#v0.6.2-dev1",_where:"C:\\Users\\admin\\Desktop\\snake\\node_modules\\aframe-physics-system",author:{name:"Stefan Hedman",email:"schteppe@gmail.com",url:"http://steffe.se"},bugs:{url:"https://github.com/schteppe/cannon.js/issues"},bundleDependencies:!1,dependencies:{},deprecated:!1,description:"A lightweight 3D physics engine written in JavaScript.",devDependencies:{browserify:"*",grunt:"~0.4.0","grunt-browserify":"^2.1.4","grunt-contrib-concat":"~0.1.3","grunt-contrib-jshint":"~0.1.1","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"^0.5.1","grunt-contrib-yuidoc":"^0.5.2",jshint:"latest",nodeunit:"^0.9.0","uglify-js":"latest"},engines:{node:"*"},homepage:"https://github.com/schteppe/cannon.js",keywords:["cannon.js","cannon","physics","engine","3d"],licenses:[{type:"MIT"}],main:"./src/Cannon.js",name:"cannon",repository:{type:"git",url:"git+https://github.com/schteppe/cannon.js.git"},version:"0.6.2"}},R2rh:function(t,e){var i=["speed","power"],n={speed:"#93b874",power:"#BD2D30"};AFRAME.registerComponent("food",{schema:{box_width:{default:10},box_height:{default:10},box_depth:{default:10}},init:function(){var t=this.GetFoodPosition();this.GetFootFeature(),this.el.setAttribute("position",t),this.el.setAttribute("dynamic-body",""),this.el.setAttribute("color",n[this.feature])},remove:function(){},GetFoodPosition:function(){var t={};return t.x=Math.round(Math.random()*this.data.box_width)-this.data.box_width/2,t.y=Math.round(Math.random()*this.data.box_height)-this.data.box_height/2,t.z=Math.round(Math.random()*this.data.box_depth)-this.data.box_depth/2,t},DetactDeduplication:function(){},GetFootFeature:function(){var t=Math.random()>.5?0:1;this.feature=i[t]}})},XNJI:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("pFYg"),s=i.n(n);AFRAME.registerSystem("queue",{init:function(){this.position_recording=[],this.rotation_recording=[],this.entities=[]},add_queue:function(t){this.position_recording.push([]),this.rotation_recording.push([]),this.entities.push(t)}}),AFRAME.registerComponent("queue",{schema:{ishead:{default:!1},distance:{default:1.2},frame:{default:50}},init:function(){var t={},e={};this._id=this.system.position_recording.length,this.system.add_queue(this.el),this.data.ishead?(this.Copy(this.el.getAttribute("position"),t),this.Copy(this.el.getAttribute("rotation"),e)):(t=this.system.position_recording[this._id-1][0],e=this.system.rotation_recording[this._id-1][0],this.el.setAttribute("position",t),this.el.setAttribute("rotation",e),this.el.setAttribute("visible",!0)),this.system.position_recording[this._id].unshift(t),this.system.rotation_recording[this._id].unshift(e)},tick:function(){if(this.data.ishead)this.DeduplicationStore();else if(this.system.position_recording[this._id-1].length>this.data.frame){var t=this.system.position_recording[this._id-1][this.data.frame],e=this.system.position_recording[this._id-1][0],i=this.system.rotation_recording[this._id-1][this.data.frame];this.Distance(e,t)&&(this.el.setAttribute("position",t),this.el.setAttribute("rotation",i),this.DeduplicationStore())}},Distance:function(t,e){var i=!1;return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2))>this.data.distance&&(i=!0),i},DeduplicationStore:function(){var t={},e={},i={};this.Copy(this.el.getAttribute("position"),t),this.Copy(this.el.getAttribute("rotation"),e),this.Copy(this.system.position_recording[this._id][0],i),this.Equel(i,t)||(this.system.position_recording[this._id].unshift(t),this.system.rotation_recording[this._id].unshift(e)),this.system.position_recording[this._id].length>this.data.frame+1&&this.system.position_recording[this._id].pop()},Copy:function(t,e){for(var i in t)e[i]=t[i],"object"==s()(t[i])&&this.Copy(t[i],e[i])},Equel:function(t,e){var i=!0;for(var n in t)if("object"==s()(t[n])?i=this.Equel(t[n],e[n]):t[n]!==e[n]&&(i=!1),!i)return i;return i}})},bGai:function(t,e,i){i("6ozT"),i("XNJI"),i("R2rh"),i("j2er"),i("60YP")},j2er:function(t,e){var i=["speed","power"];AFRAME.registerComponent("eat",{schema:{color:{default:"#333"}},init:function(){this.Collide(),this.scale=1,this.scale_string="1 1 1",this.el.setAttribute("color",this.data.color)},AddSnakeTail:function(){var t=document.createElement("a-box"),e=document.querySelector("#sky"),i=document.querySelector("a-scene");t.setAttribute("visible",!1),t.setAttribute("queue",""),t.setAttribute("scale",this.scale_string),i.insertBefore(t,e)},Collide:function(){var t=this;t.el.addEventListener("collide",function(e){var i=e.detail.body.el,n=i.components.food.feature;n&&setTimeout(function(){i.parentNode&&(i.parentNode.removeChild(i),t.GetAbility(n),t.AddSnakeTail())},0)})},GetAbility:function(t){var e=i.indexOf(t);0==e?this.SpeedUp():1==e&&this.PowerUp()},SpeedUp:function(){var t=this;t.el.components.move.data.speed+=1,setTimeout(function(){t.el.components.move.data.speed-=.9},1e3)},PowerUp:function(){var t=this.el.sceneEl.systems.queue.entities;this.scale+=.1,this.scale_string=this.scale+" "+this.scale+" "+this.scale;for(var e in t)t[e].setAttribute("animation__scale","property: scale;  dur: 400; to:"+this.scale_string)}})}},["NHnr"]);
//# sourceMappingURL=app.08440029dc9af260b41f.js.map